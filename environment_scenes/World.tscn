[gd_scene load_steps=13 format=2]

[ext_resource path="res://environment_scenes/World.gd" type="Script" id=1]
[ext_resource path="res://assets/tilesets/CastleTileset.tres" type="TileSet" id=2]
[ext_resource path="res://gui/StatBar.tscn" type="PackedScene" id=3]
[ext_resource path="res://gui/HealthForeground.tres" type="StyleBox" id=4]
[ext_resource path="res://gui/HealthBackground.tres" type="StyleBox" id=5]
[ext_resource path="res://gui/ManaForeground.tres" type="StyleBox" id=6]
[ext_resource path="res://gui/ManaBackground.tres" type="StyleBox" id=7]
[ext_resource path="res://gui/StaminaForeground.tres" type="StyleBox" id=8]
[ext_resource path="res://assets/animation_sprites/environment/open_gate.png" type="Texture" id=9]
[ext_resource path="res://gui/Menu.tscn" type="PackedScene" id=10]
[ext_resource path="res://gui/MenuButton.tscn" type="PackedScene" id=11]

[sub_resource type="RectangleShape2D" id=1]

custom_solver_bias = 0.0
extents = Vector2( 20.6948, 32.4157 )

[node name="World" type="Node2D" index="0"]

script = ExtResource( 1 )
_sections_unfolded = [ "Transform" ]

[node name="TileMap" type="TileMap" parent="." index="0"]

show_behind_parent = true
mode = 0
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
cell_quadrant_size = 16
cell_custom_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
cell_half_offset = 2
cell_tile_origin = 0
cell_y_sort = false
cell_clip_uv = false
collision_use_kinematic = false
collision_friction = 1.0
collision_bounce = 0.0
collision_layer = 1
collision_mask = 1
occluder_light_mask = 1
format = 1
tile_data = PoolIntArray( -327685, 30, 0, -327684, 30, 0, -327683, 30, 0, -327682, 30, 0, -327681, 30, 0, -393216, 30, 0, -393215, 30, 0, -393214, 30, 0, -393213, 30, 0, -393212, 30, 0, -393211, 30, 0, -393210, 30, 0, -393209, 30, 0, -393208, 30, 0, -393207, 30, 0, -393206, 30, 0, -393205, 30, 0, -393204, 30, 0, -393203, 30, 0, -393202, 30, 0, -393201, 30, 0, -393200, 30, 0, -393199, 30, 0, -393198, 11, 0, -393197, 11, 0, -393196, 11, 0, -393195, 11, 0, -393194, 11, 0, -393193, 11, 0, -393192, 11, 0, -393191, 11, 0, -393190, 11, 0, -393189, 11, 0, -393188, 11, 0, -393187, 11, 0, -393186, 11, 0, -393185, 11, 0, -393184, 11, 0, -393183, 11, 0, -393182, 11, 0, -393181, 11, 0, -393180, 11, 0, -393179, 11, 0, -393178, 11, 0, -393177, 11, 0, -393176, 11, 0, -393175, 11, 0, -393174, 11, 0, -393173, 11, 0, -262149, 28, 0, -327662, 9, 0, -327637, 29, 0, -196613, 28, 0, -262126, 9, 0, -262101, 29, 0, -131077, 28, 0, -196590, 9, 0, -196565, 29, 0, -65541, 28, 0, -131054, 9, 0, -131029, 29, 0, -5, 28, 0, -65518, 9, 0, -65493, 29, 0, 65531, 28, 0, 18, 9, 0, 43, 29, 0, 131067, 28, 0, 65554, 9, 0, 65579, 29, 0, 196603, 28, 0, 131090, 9, 0, 131115, 29, 0, 262139, 28, 0, 196626, 9, 0, 196651, 29, 0, 327675, 28, 0, 262162, 9, 0, 262187, 29, 0, 393211, 28, 0, 327698, 9, 0, 327723, 29, 0, 458747, 28, 0, 393234, 9, 0, 393259, 29, 0, 524283, 28, 0, 458770, 9, 0, 458795, 29, 0, 589819, 24, 0, 589823, 24, 0, 524288, 24, 0, 524289, 24, 0, 524290, 24, 0, 524291, 24, 0, 524292, 24, 0, 524293, 24, 0, 524294, 24, 0, 524295, 24, 0, 524296, 24, 0, 524297, 24, 0, 524298, 24, 0, 524299, 24, 0, 524300, 24, 0, 524301, 24, 0, 524302, 24, 0, 524303, 24, 0, 524304, 24, 0, 524305, 24, 0, 524306, 24, 0, 524307, 24, 0, 524308, 24, 0, 524309, 24, 0, 524310, 24, 0, 524311, 24, 0, 524312, 24, 0, 524313, 24, 0, 524316, 24, 0, 524317, 24, 0, 524318, 24, 0, 524319, 24, 0, 524320, 24, 0, 524321, 24, 0, 524322, 24, 0, 524323, 24, 0, 524324, 24, 0, 524325, 24, 0, 524326, 24, 0, 524327, 24, 0, 524328, 24, 0, 524329, 24, 0, 524330, 24, 0, 524331, 24, 0, 655355, 24, 0, 655356, 24, 0, 589834, 24, 0, 589835, 24, 0, 589836, 24, 0, 589837, 24, 0, 589838, 24, 0, 589839, 24, 0, 589840, 24, 0, 589841, 24, 0, 589842, 24, 0, 589843, 24, 0, 589844, 24, 0, 589845, 24, 0, 589846, 24, 0, 589847, 24, 0, 589848, 24, 0, 589849, 24, 0, 589852, 24, 0, 589853, 24, 0, 589854, 24, 0, 589855, 24, 0, 589856, 24, 0, 589857, 24, 0, 589858, 24, 0, 589859, 24, 0, 589860, 24, 0, 589861, 24, 0, 589862, 24, 0, 589863, 24, 0, 589864, 24, 0, 589865, 24, 0, 589866, 24, 0, 589867, 24, 0, 720891, 24, 0, 720893, 24, 0, 655370, 24, 0, 655371, 24, 0, 655372, 24, 0, 655373, 24, 0, 655374, 24, 0, 655375, 24, 0, 655376, 24, 0, 655377, 24, 0, 655378, 24, 0, 655379, 24, 0, 655380, 24, 0, 655381, 24, 0, 655382, 24, 0, 655383, 24, 0, 655384, 24, 0, 655385, 24, 0, 655388, 24, 0, 655389, 24, 0, 655390, 24, 0, 655391, 24, 0, 655392, 24, 0, 655393, 24, 0, 655394, 24, 0, 655395, 24, 0, 655396, 24, 0, 655397, 24, 0, 655398, 24, 0, 655399, 24, 0, 655400, 24, 0, 655401, 24, 0, 655402, 24, 0, 655403, 24, 0, 786427, 24, 0, 786430, 24, 0, 786431, 24, 0, 720896, 24, 0, 720897, 24, 0, 720898, 24, 0, 720921, 3, 0, 720924, 24, 0, 720925, 24, 0, 720926, 24, 0, 720927, 24, 0, 720928, 24, 0, 720929, 24, 0, 720930, 24, 0, 720931, 24, 0, 720932, 24, 0, 720933, 24, 0, 720934, 24, 0, 720935, 24, 0, 720936, 24, 0, 720937, 24, 0, 720938, 24, 0, 720939, 24, 0, 851963, 24, 0, 786435, 24, 0, 786436, 24, 0, 786457, 3, 0, 786460, 2, 0, 786461, 24, 0, 786462, 24, 0, 786463, 24, 0, 786464, 24, 0, 786465, 24, 0, 786466, 24, 0, 786467, 24, 0, 786468, 24, 0, 786469, 24, 0, 786470, 24, 0, 786471, 24, 0, 786472, 24, 0, 786473, 24, 0, 786474, 24, 0, 786475, 24, 0, 917499, 24, 0, 851973, 24, 0, 851974, 24, 0, 851978, 24, 0, 851993, 3, 0, 851996, 2, 0, 851997, 24, 0, 851998, 24, 0, 851999, 24, 0, 852000, 24, 0, 852001, 24, 0, 852002, 24, 0, 852003, 24, 0, 852004, 24, 0, 852005, 24, 0, 852006, 24, 0, 852007, 24, 0, 852008, 24, 0, 852009, 24, 0, 852010, 24, 0, 852011, 24, 0, 983035, 24, 0, 917514, 24, 0, 917515, 24, 0, 917529, 3, 0, 917532, 2, 0, 917533, 24, 0, 917534, 24, 0, 917535, 24, 0, 917536, 24, 0, 917537, 24, 0, 917538, 24, 0, 917539, 24, 0, 917540, 24, 0, 917541, 24, 0, 917542, 24, 0, 917543, 24, 0, 917544, 24, 0, 917545, 24, 0, 917546, 24, 0, 917547, 24, 0, 1048571, 24, 0, 983049, 24, 0, 983050, 24, 0, 983051, 24, 0, 983052, 24, 0, 983053, 24, 0, 983054, 24, 0, 983055, 24, 0, 983056, 24, 0, 983057, 24, 0, 983058, 24, 0, 983059, 24, 0, 983060, 24, 0, 983061, 24, 0, 983065, 3, 0, 983068, 21, 0, 983069, 24, 0, 983070, 24, 0, 983071, 24, 0, 983072, 24, 0, 983073, 24, 0, 983074, 24, 0, 983075, 24, 0, 983076, 24, 0, 983077, 24, 0, 983078, 24, 0, 983079, 24, 0, 983080, 24, 0, 983081, 24, 0, 983082, 24, 0, 983083, 24, 0, 1114107, 24, 0, 1048583, 24, 0, 1048584, 24, 0, 1048586, 24, 0, 1048601, 3, 0, 1048604, 21, 0, 1048605, 24, 0, 1048606, 24, 0, 1048607, 24, 0, 1048608, 24, 0, 1048609, 24, 0, 1048610, 24, 0, 1048611, 24, 0, 1048612, 24, 0, 1048613, 24, 0, 1048614, 24, 0, 1048615, 24, 0, 1048616, 24, 0, 1048617, 24, 0, 1048618, 24, 0, 1048619, 24, 0, 1179643, 24, 0, 1114117, 24, 0, 1114118, 24, 0, 1114122, 5, 0, 1114135, 24, 0, 1114136, 24, 0, 1114137, 3, 0, 1114150, 24, 0, 1114151, 24, 0, 1114152, 24, 0, 1114153, 24, 0, 1114154, 24, 0, 1114155, 24, 0, 1245179, 24, 0, 1179652, 24, 0, 1179658, 5, 0, 1179670, 24, 0, 1179673, 3, 0, 1179686, 24, 0, 1179687, 24, 0, 1179688, 24, 0, 1179689, 24, 0, 1179690, 24, 0, 1179691, 24, 0, 1245186, 24, 0, 1245187, 24, 0, 1245194, 5, 0, 1245204, 24, 0, 1245206, 24, 0, 1245209, 24, 0, 1245210, 24, 0, 1245211, 24, 0, 1245212, 24, 0, 1245213, 24, 0, 1245214, 24, 0, 1245215, 24, 0, 1245216, 24, 0, 1245217, 24, 0, 1245218, 24, 0, 1245219, 24, 0, 1245222, 24, 0, 1245223, 24, 0, 1245224, 24, 0, 1245225, 24, 0, 1245226, 24, 0, 1245227, 24, 0, 1310720, 24, 0, 1310721, 24, 0, 1310730, 5, 0, 1310738, 24, 0, 1310740, 24, 0, 1310742, 24, 0, 1310745, 24, 0, 1310746, 24, 0, 1310747, 24, 0, 1310748, 24, 0, 1310749, 24, 0, 1310750, 24, 0, 1310751, 24, 0, 1310752, 24, 0, 1310753, 24, 0, 1310754, 24, 0, 1310755, 24, 0, 1310758, 24, 0, 1310759, 24, 0, 1310760, 24, 0, 1310761, 24, 0, 1310762, 24, 0, 1310763, 24, 0, 1376266, 5, 0, 1376267, 5, 0, 1376271, 24, 0, 1376272, 24, 0, 1376273, 24, 0, 1376274, 24, 0, 1376275, 24, 0, 1376276, 24, 0, 1376277, 24, 0, 1376278, 24, 0, 1376279, 24, 0, 1376280, 24, 0, 1376281, 24, 0, 1376282, 24, 0, 1376283, 24, 0, 1376284, 24, 0, 1376285, 24, 0, 1376286, 24, 0, 1376287, 24, 0, 1376288, 24, 0, 1376289, 24, 0, 1376290, 24, 0, 1376291, 24, 0, 1376294, 24, 0, 1376295, 24, 0, 1376296, 24, 0, 1376297, 24, 0, 1376298, 24, 0, 1376299, 24, 0, 1507323, 24, 0, 1507324, 24, 0, 1507325, 24, 0, 1441802, 5, 0, 1441803, 5, 0, 1441804, 5, 0, 1441830, 24, 0, 1441831, 24, 0, 1441832, 24, 0, 1441833, 24, 0, 1441834, 24, 0, 1441835, 24, 0, 1572859, 24, 0, 1572860, 24, 0, 1572861, 24, 0, 1572862, 24, 0, 1507338, 5, 0, 1507339, 5, 0, 1507340, 5, 0, 1507341, 5, 0, 1507366, 24, 0, 1507367, 24, 0, 1507368, 24, 0, 1507369, 24, 0, 1507370, 24, 0, 1507371, 24, 0, 1638395, 24, 0, 1638396, 24, 0, 1638397, 24, 0, 1638398, 24, 0, 1638399, 24, 0, 1572864, 24, 0, 1572865, 24, 0, 1572866, 24, 0, 1572867, 24, 0, 1572868, 24, 0, 1572869, 24, 0, 1572874, 5, 0, 1572875, 5, 0, 1572876, 5, 0, 1572877, 5, 0, 1572878, 5, 0, 1572879, 5, 0, 1572880, 5, 0, 1572881, 5, 0, 1572882, 5, 0, 1572883, 5, 0, 1572884, 5, 0, 1572885, 5, 0, 1572886, 5, 0, 1572889, 5, 0, 1572890, 24, 0, 1572891, 24, 0, 1572892, 24, 0, 1572893, 24, 0, 1572894, 24, 0, 1572895, 24, 0, 1572896, 24, 0, 1572897, 24, 0, 1572898, 24, 0, 1572899, 24, 0, 1572900, 24, 0, 1572901, 24, 0, 1572902, 24, 0, 1572903, 24, 0, 1572904, 24, 0, 1572905, 24, 0, 1572906, 24, 0, 1572907, 24, 0, 1703931, 24, 0, 1703932, 24, 0, 1703933, 24, 0, 1703934, 5, 0, 1703935, 5, 0, 1638400, 5, 0, 1638401, 5, 0, 1638402, 5, 0, 1638403, 5, 0, 1638404, 5, 0, 1638405, 24, 0, 1638406, 24, 0, 1638425, 5, 0, 1769467, 24, 0, 1769468, 5, 0, 1769469, 5, 0, 1769470, 24, 0, 1769471, 24, 0, 1703936, 24, 0, 1703937, 5, 0, 1703938, 5, 0, 1703939, 5, 0, 1703940, 5, 0, 1703941, 5, 0, 1703942, 24, 0, 1703943, 24, 0, 1703961, 5, 0, 1835003, 24, 0, 1835004, 24, 0, 1835005, 24, 0, 1835006, 24, 0, 1835007, 24, 0, 1769472, 24, 0, 1769473, 24, 0, 1769474, 24, 0, 1769475, 24, 0, 1769476, 24, 0, 1769477, 24, 0, 1769478, 24, 0, 1769479, 24, 0, 1769480, 24, 0, 1769481, 24, 0, 1769482, 24, 0, 1769483, 24, 0, 1769484, 24, 0, 1769487, 5, 0, 1769488, 5, 0, 1769489, 5, 0, 1769490, 5, 0, 1769491, 5, 0, 1769492, 5, 0, 1769493, 5, 0, 1769494, 5, 0, 1769495, 5, 0, 1769496, 5, 0, 1769497, 5, 0 )
_sections_unfolded = [ "Cell", "Collision", "Material", "Occluder", "Pause", "Transform", "Visibility", "Z Index" ]
__meta__ = {
"_edit_lock_": true
}

[node name="PlayerHUD" type="CanvasLayer" parent="." index="1"]

editor/display_folded = true
layer = 1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )
transform = Transform2D( 1, 0, 0, 1, 0, 0 )

[node name="Stats" type="Control" parent="PlayerHUD" index="0"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 2.0
margin_top = 58.0
margin_right = 42.0
margin_bottom = 98.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 0
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1

[node name="Health" parent="PlayerHUD/Stats" index="0" instance=ExtResource( 3 )]

margin_left = 16.0
margin_top = 17.0
margin_right = 116.0
margin_bottom = 25.0
custom_styles/fg = ExtResource( 4 )
custom_styles/bg = ExtResource( 5 )

[node name="Mana" parent="PlayerHUD/Stats" index="1" instance=ExtResource( 3 )]

margin_left = 16.0
margin_top = 25.0
margin_right = 116.0
margin_bottom = 33.0
custom_styles/fg = ExtResource( 6 )
custom_styles/bg = ExtResource( 7 )

[node name="Stamina" parent="PlayerHUD/Stats" index="2" instance=ExtResource( 3 )]

margin_left = 16.0
margin_top = 33.0
margin_right = 116.0
margin_bottom = 41.0
custom_styles/fg = ExtResource( 8 )

[node name="Gate" type="Sprite" parent="." index="2"]

editor/display_folded = true
position = Vector2( 529.685, 214.049 )
texture = ExtResource( 9 )

[node name="GateArea" type="Area2D" parent="Gate" index="0"]

position = Vector2( -1.22449, 7.76129 )
input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"

[node name="GateHitbox" type="CollisionShape2D" parent="Gate/GateArea" index="0"]

position = Vector2( 0.785278, -0.785339 )
shape = SubResource( 1 )

[node name="LevelEndTimer" type="Timer" parent="." index="3"]

process_mode = 1
wait_time = 1.0
one_shot = true
autostart = false

[node name="entities" type="Node" parent="." index="4"]

[node name="players" type="Node" parent="entities" index="0"]

[node name="mobs" type="Node" parent="entities" index="1"]

[node name="items" type="Node" parent="entities" index="2"]

[node name="projectiles" type="Node" parent="entities" index="3"]

[node name="Menu" parent="." index="5" instance=ExtResource( 10 )]

[node name="MenuButton" parent="." index="6" instance=ExtResource( 11 )]

[connection signal="body_entered" from="Gate/GateArea" to="." method="_on_GateArea_body_entered"]

[connection signal="timeout" from="LevelEndTimer" to="." method="_on_LevelEndTimer_timeout"]

[connection signal="closegame" from="Menu" to="." method="quit_game"]

[connection signal="getmenu" from="MenuButton" to="." method="menu"]


